<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi-Step Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Custom styles */
      .step-item.active {
        background-color: white;
        color: #483eff;
        border-color: white;
      }

      .plan-card:hover {
        border-color: #483eff;
      }

      .addon-card:hover {
        border-color: #483eff;
      }

      .toggle-switch {
        position: relative;
        display: inline-block;
        width: 48px;
        height: 24px;
      }

      .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #483eff;
        transition: 0.4s;
        border-radius: 34px;
      }

      .toggle-slider:before {
        position: absolute;
        content: "";
        height: 16px;
        width: 16px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: 0.4s;
        border-radius: 50%;
      }

      input:checked + .toggle-slider:before {
        transform: translateX(24px);
      }

      /* Error styles */
      .error-input {
        border-color: #ed3548;
      }

      .error-message {
        color: #ed3548;
        font-size: 0.875rem;
        margin-top: 0.25rem;
      }

      /* Hover effects */
      .btn-primary {
        transition: all 0.3s ease;
      }

      .btn-primary:hover {
        opacity: 0.9;
      }

      .btn-back:hover {
        color: #022959;
      }

      .change-link:hover {
        color: #483eff;
      }
    </style>
  </head>
  <body class="bg-[#EFF5FF] min-h-screen flex items-center justify-center p-4">
    <div
      class="bg-white rounded-2xl shadow-lg w-full max-w-[940px] flex flex-col md:flex-row overflow-hidden p-3"
    >
      <!-- Sidebar -->
      <div class="md:w-[274px] bg-[#483EFF] p-8 relative rounded-lg">
        <div class="flex md:flex-col gap-8">
          <!-- Step 1 -->
          <div class="flex items-center gap-4">
            <div
              class="step-item w-8 h-8 rounded-full border-2 border-white flex items-center justify-center text-white font-bold text-sm active"
            >
              1
            </div>
            <div class="hidden md:block">
              <p class="text-[#ABC1FF] text-xs">STEP 1</p>
              <p class="text-white font-bold text-sm">YOUR INFO</p>
            </div>
          </div>
          <!-- Step 2 -->
          <div class="flex items-center gap-4">
            <div
              class="step-item w-8 h-8 rounded-full border-2 border-white flex items-center justify-center text-white font-bold text-sm"
            >
              2
            </div>
            <div class="hidden md:block">
              <p class="text-[#ABC1FF] text-xs">STEP 2</p>
              <p class="text-white font-bold text-sm">SELECT PLAN</p>
            </div>
          </div>
          <!-- Step 3 -->
          <div class="flex items-center gap-4">
            <div
              class="step-item w-8 h-8 rounded-full border-2 border-white flex items-center justify-center text-white font-bold text-sm"
            >
              3
            </div>
            <div class="hidden md:block">
              <p class="text-[#ABC1FF] text-xs">STEP 3</p>
              <p class="text-white font-bold text-sm">ADD-ONS</p>
            </div>
          </div>
          <!-- Step 4 -->
          <div class="flex items-center gap-4">
            <div
              class="step-item w-8 h-8 rounded-full border-2 border-white flex items-center justify-center text-white font-bold text-sm"
            >
              4
            </div>
            <div class="hidden md:block">
              <p class="text-[#ABC1FF] text-xs">STEP 4</p>
              <p class="text-white font-bold text-sm">SUMMARY</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="flex-1 p-4 md:p-10">
        <!-- Step 1: Personal Info -->
        <div id="step1" class="step-content">
          <h1 class="text-3xl font-bold text-[#022959] mb-2">Personal info</h1>
          <p class="text-[#9699AA] mb-8">
            Please provide your name, email address, and phone number.
          </p>

          <form id="personalInfoForm" class="space-y-6">
            <div>
              <div class="flex justify-between">
                <label for="name" class="text-sm text-[#022959] mb-1"
                  >Name</label
                >
                <span class="error-message hidden" id="nameError"
                  >This field is required</span
                >
              </div>
              <input
                type="text"
                id="name"
                name="name"
                placeholder="e.g. Stephen King"
                class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:border-[#483EFF]"
              />
            </div>

            <div>
              <div class="flex justify-between">
                <label for="email" class="text-sm text-[#022959] mb-1"
                  >Email Address</label
                >
                <span class="error-message hidden" id="emailError"
                  >This field is required</span
                >
              </div>
              <input
                type="email"
                id="email"
                name="email"
                placeholder="e.g. stephenking@lorem.com"
                class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:border-[#483EFF]"
              />
            </div>

            <div>
              <div class="flex justify-between">
                <label for="phone" class="text-sm text-[#022959] mb-1"
                  >Phone Number</label
                >
                <span class="error-message hidden" id="phoneError"
                  >This field is required</span
                >
              </div>
              <input
                type="tel"
                id="phone"
                name="phone"
                placeholder="e.g. +1 234 567 890"
                class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:border-[#483EFF]"
              />
            </div>
          </form>
        </div>

        <!-- Step 2: Select Plan -->
        <div id="step2" class="step-content hidden">
          <h1 class="text-3xl font-bold text-[#022959] mb-2">
            Select your plan
          </h1>
          <p class="text-[#9699AA] mb-8">
            You have the option of monthly or yearly billing.
          </p>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
            <div
              class="plan-card border rounded-lg p-4 cursor-pointer"
              data-plan="arcade"
              data-price-monthly="9"
              data-price-yearly="90"
            >
              <div class="w-10 h-10 rounded-full bg-[#FFAF7E] mb-10"></div>
              <h3 class="font-bold text-[#022959]">Arcade</h3>
              <p class="text-[#9699AA]" data-price>$9/mo</p>
              <p class="text-[#022959] text-sm hidden yearly-bonus">
                2 months free
              </p>
            </div>

            <div
              class="plan-card border rounded-lg p-4 cursor-pointer"
              data-plan="advanced"
              data-price-monthly="12"
              data-price-yearly="120"
            >
              <div class="w-10 h-10 rounded-full bg-[#F9818E] mb-10"></div>
              <h3 class="font-bold text-[#022959]">Advanced</h3>
              <p class="text-[#9699AA]" data-price>$12/mo</p>
              <p class="text-[#022959] text-sm hidden yearly-bonus">
                2 months free
              </p>
            </div>

            <div
              class="plan-card border rounded-lg p-4 cursor-pointer"
              data-plan="pro"
              data-price-monthly="15"
              data-price-yearly="150"
            >
              <div class="w-10 h-10 rounded-full bg-[#483EFF] mb-10"></div>
              <h3 class="font-bold text-[#022959]">Pro</h3>
              <p class="text-[#9699AA]" data-price>$15/mo</p>
              <p class="text-[#022959] text-sm hidden yearly-bonus">
                2 months free
              </p>
            </div>
          </div>

          <div
            class="bg-[#F8F9FF] rounded-lg p-4 flex items-center justify-center gap-6"
          >
            <span class="font-medium billing-text">Monthly</span>
            <label class="toggle-switch">
              <input type="checkbox" id="billingToggle" />
              <span class="toggle-slider"></span>
            </label>
            <span class="text-[#9699AA] billing-text">Yearly</span>
          </div>
        </div>

        <!-- Step 3: Add-ons -->
        <div id="step3" class="step-content hidden">
          <h1 class="text-3xl font-bold text-[#022959] mb-2">Pick add-ons</h1>
          <p class="text-[#9699AA] mb-8">
            Add-ons help enhance your gaming experience.
          </p>

          <div class="space-y-4">
            <div
              class="addon-card border rounded-lg p-4 flex items-center cursor-pointer"
              data-addon="online"
              data-price-monthly="1"
              data-price-yearly="10"
            >
              <input type="checkbox" class="w-5 h-5 mr-4" />
              <div class="flex-1">
                <h3 class="font-bold text-[#022959]">Online service</h3>
                <p class="text-[#9699AA] text-sm">
                  Access to multiplayer games
                </p>
              </div>
              <span class="text-[#483EFF] text-sm" data-price>+$1/mo</span>
            </div>

            <div
              class="addon-card border rounded-lg p-4 flex items-center cursor-pointer"
              data-addon="storage"
              data-price-monthly="2"
              data-price-yearly="20"
            >
              <input type="checkbox" class="w-5 h-5 mr-4" />
              <div class="flex-1">
                <h3 class="font-bold text-[#022959]">Larger storage</h3>
                <p class="text-[#9699AA] text-sm">Extra 1TB of cloud save</p>
              </div>
              <span class="text-[#483EFF] text-sm" data-price>+$2/mo</span>
            </div>

            <div
              class="addon-card border rounded-lg p-4 flex items-center cursor-pointer"
              data-addon="profile"
              data-price-monthly="2"
              data-price-yearly="20"
            >
              <input type="checkbox" class="w-5 h-5 mr-4" />
              <div class="flex-1">
                <h3 class="font-bold text-[#022959]">Customizable profile</h3>
                <p class="text-[#9699AA] text-sm">
                  Custom theme on your profile
                </p>
              </div>
              <span class="text-[#483EFF] text-sm" data-price>+$2/mo</span>
            </div>
          </div>
        </div>

        <!-- Step 4: Summary -->
        <div id="step4" class="step-content hidden">
          <h1 class="text-3xl font-bold text-[#022959] mb-2">Finishing up</h1>
          <p class="text-[#9699AA] mb-8">
            Double-check everything looks OK before confirming.
          </p>

          <div class="bg-[#F8F9FF] rounded-lg p-6">
            <div class="flex justify-between items-center pb-6 border-b">
              <div>
                <h3 class="font-bold text-[#022959]">
                  <span id="selectedPlan">Arcade</span> (<span
                    id="selectedBilling"
                    >Monthly</span
                  >)
                </h3>
                <button
                  class="text-[#9699AA] underline change-link"
                  onclick="goToStep(2)"
                >
                  Change
                </button>
              </div>
              <span class="font-bold text-[#022959]" id="planPrice">$9/mo</span>
            </div>

            <div id="selectedAddons" class="pt-4 space-y-4">
              <!-- Add-ons will be inserted here -->
            </div>
          </div>

          <div class="flex justify-between items-center p-6">
            <span class="text-[#9699AA]"
              >Total (per <span id="billingPeriod">month</span>)</span
            >
            <span class="text-[#483EFF] font-bold text-xl" id="totalPrice"
              >+$12/mo</span
            >
          </div>
        </div>

        <!-- Step 5: Thank You -->
        <div id="step5" class="step-content hidden text-center py-16">
          <div
            class="w-16 h-16 bg-[#F9818E] rounded-full flex items-center justify-center mx-auto mb-8"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="white"
              stroke-width="2"
            >
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
          </div>
          <h1 class="text-3xl font-bold text-[#022959] mb-4">Thank you!</h1>
          <p class="text-[#9699AA]">
            Thanks for confirming your subscription! We hope you have fun using
            our platform. If you ever need support, please feel free to email us
            at support@loremgaming.com.
          </p>
        </div>

        <!-- Navigation Buttons -->
        <div class="mt-auto pt-16 flex justify-between">
          <button
            id="backBtn"
            class="btn-back text-[#9699AA] font-medium hidden hover:text-[#022959]"
          >
            Go Back
          </button>
          <button
            id="nextBtn"
            class="btn-primary bg-[#022959] text-white font-medium py-3 px-6 rounded-lg ml-auto"
          >
            Next Step
          </button>
          <button
            id="confirmBtn"
            class="btn-primary bg-[#483EFF] text-white font-medium py-3 px-6 rounded-lg ml-auto hidden"
          >
            Confirm
          </button>
        </div>
      </div>
    </div>

    <script>
      // State management
      let currentStep = 1;
      let selectedPlan = { name: "arcade", price: 9 };
      let isYearly = false;
      let selectedAddons = new Set();

      // Form validation
      function validateStep1() {
        const name = document.getElementById("name").value;
        const email = document.getElementById("email").value;
        const phone = document.getElementById("phone").value;
        let isValid = true;

        // Name validation
        if (!name) {
          showError("name", "This field is required");
          isValid = false;
        } else {
          hideError("name");
        }

        // Email validation
        if (!email) {
          showError("email", "This field is required");
          isValid = false;
        } else if (!isValidEmail(email)) {
          showError("email", "Please enter a valid email");
          isValid = false;
        } else {
          hideError("email");
        }

        // Phone validation
        if (!phone) {
          showError("phone", "This field is required");
          isValid = false;
        } else if (!isValidPhone(phone)) {
          showError("phone", "Please enter a valid phone number");
          isValid = false;
        } else {
          hideError("phone");
        }

        return isValid;
      }

      function showError(fieldId, message) {
        const field = document.getElementById(fieldId);
        const error = document.getElementById(`${fieldId}Error`);
        field.classList.add("error-input");
        error.textContent = message;
        error.classList.remove("hidden");
      }

      function hideError(fieldId) {
        const field = document.getElementById(fieldId);
        const error = document.getElementById(`${fieldId}Error`);
        field.classList.remove("error-input");
        error.classList.add("hidden");
      }

      function isValidEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      }

      function isValidPhone(phone) {
        return /^\+?[\d\s-]{10,}$/.test(phone);
      }

      // Navigation
      function showStep(step) {
        // Hide all steps
        document
          .querySelectorAll(".step-content")
          .forEach((el) => el.classList.add("hidden"));

        // Show current step
        document.getElementById(`step${step}`).classList.remove("hidden");

        // Update step indicators
        document.querySelectorAll(".step-item").forEach((el, index) => {
          el.classList.toggle("active", index + 1 === step);
        });

        // Update buttons
        const backBtn = document.getElementById("backBtn");
        const nextBtn = document.getElementById("nextBtn");
        const confirmBtn = document.getElementById("confirmBtn");

        backBtn.classList.toggle("hidden", step === 1);
        nextBtn.classList.toggle("hidden", step === 4 || step === 5);
        confirmBtn.classList.toggle("hidden", step !== 4);

        currentStep = step;
      }

      // Plan selection
      document.querySelectorAll(".plan-card").forEach((card) => {
        card.addEventListener("click", () => {
          document
            .querySelectorAll(".plan-card")
            .forEach((c) =>
              c.classList.remove("border-[#483EFF]", "bg-[#F8F9FF]")
            );
          card.classList.add("border-[#483EFF]", "bg-[#F8F9FF]");
          selectedPlan = {
            name: card.dataset.plan,
            price: isYearly
              ? parseInt(card.dataset.priceYearly)
              : parseInt(card.dataset.priceMonthly),
          };
          updateSummary();
        });
      });

      // Billing toggle
      document
        .getElementById("billingToggle")
        .addEventListener("change", (e) => {
          isYearly = e.target.checked;
          updatePrices();
          updateSummary();
        });

      function updatePrices() {
        // Update plan prices
        document.querySelectorAll(".plan-card").forEach((card) => {
          const price = isYearly
            ? card.dataset.priceYearly
            : card.dataset.priceMonthly;
          const priceText = card.querySelector("[data-price]");
          priceText.textContent = `$${price}/${isYearly ? "yr" : "mo"}`;
          card
            .querySelector(".yearly-bonus")
            .classList.toggle("hidden", !isYearly);
        });

        // Update addon prices
        document.querySelectorAll(".addon-card").forEach((card) => {
          const price = isYearly
            ? card.dataset.priceYearly
            : card.dataset.priceMonthly;
          const priceText = card.querySelector("[data-price]");
          priceText.textContent = `+$${price}/${isYearly ? "yr" : "mo"}`;
        });
      }

      // Add-ons selection
      document.querySelectorAll(".addon-card").forEach((card) => {
        card.addEventListener("click", () => {
          const checkbox = card.querySelector('input[type="checkbox"]');
          checkbox.checked = !checkbox.checked;
          card.classList.toggle("border-[#483EFF]", checkbox.checked);
          card.classList.toggle("bg-[#F8F9FF]", checkbox.checked);

          if (checkbox.checked) {
            selectedAddons.add(card.dataset.addon);
          } else {
            selectedAddons.delete(card.dataset.addon);
          }
          updateSummary();
        });
      });

      // Summary updates
      function updateSummary() {
        const planElement = document.getElementById("selectedPlan");
        const billingElement = document.getElementById("selectedBilling");
        const planPriceElement = document.getElementById("planPrice");
        const billingPeriodElement = document.getElementById("billingPeriod");
        const totalPriceElement = document.getElementById("totalPrice");
        const addonsContainer = document.getElementById("selectedAddons");

        planElement.textContent =
          selectedPlan.name.charAt(0).toUpperCase() +
          selectedPlan.name.slice(1);
        billingElement.textContent = isYearly ? "Yearly" : "Monthly";
        planPriceElement.textContent = `$${selectedPlan.price}/${
          isYearly ? "yr" : "mo"
        }`;
        billingPeriodElement.textContent = isYearly ? "year" : "month";

        // Clear and rebuild add-ons summary
        addonsContainer.innerHTML = "";
        let total = selectedPlan.price;

        selectedAddons.forEach((addon) => {
          const card = document.querySelector(`[data-addon="${addon}"]`);
          const price = isYearly
            ? parseInt(card.dataset.priceYearly)
            : parseInt(card.dataset.priceMonthly);
          total += price;

          const addonElement = document.createElement("div");
          addonElement.className = "flex justify-between items-center";
          addonElement.innerHTML = `
                    <span class="text-[#9699AA]">${
                      card.querySelector("h3").textContent
                    }</span>
                    <span class="text-[#022959]">+$${price}/${
            isYearly ? "yr" : "mo"
          }</span>
                `;
          addonsContainer.appendChild(addonElement);
        });

        totalPriceElement.textContent = `+$${total}/${isYearly ? "yr" : "mo"}`;
      }

      // Navigation event listeners
      document.getElementById("nextBtn").addEventListener("click", () => {
        if (currentStep === 1 && !validateStep1()) return;
        showStep(currentStep + 1);
      });

      document.getElementById("backBtn").addEventListener("click", () => {
        showStep(currentStep - 1);
      });

      document.getElementById("confirmBtn").addEventListener("click", () => {
        showStep(5);
      });

      // Initialize
      showStep(1);
      updatePrices();
      updateSummary();
    </script>
  </body>
</html>
